<?xml version="1.0" encoding="UTF-8" ?>
<odoo>


    <record id="view_account_move_inherit_import_folder_form" model="ir.ui.view">
        <field name="name">account.move.inherit_purchase_folder.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='ref']" position="after">
                <field name="purchase_folder_import_id" groups="smartest_foreign_trade.group_foreign_trade_user"
                       attrs="{'readonly': [('state','!=','draft')],'invisible': [('move_type','!=','in_invoice')]}"/>
                <field name="sale_folder_export_id" groups="smartest_foreign_trade.group_foreign_trade_user"
                       attrs="{'readonly': [('state','!=','draft')],'invisible': [('move_type','!=','out_invoice')]}"/>
            </xpath>
            <xpath expr="//field[@name='quick_encoding_vals']" position="after">
                <div class="text-center" name="type">
                    <field name="supplier_invoice_type" widget="radio" options="{'horizontal': True}" groups="smartest_foreign_trade.group_foreign_trade_user"
                           attrs="{'readonly': [('state','!=','draft')],'invisible': [('move_type','!=','in_invoice')]}"/>
                </div>
            </xpath>
        </field>
    </record>
        <record id="action_move_in_invoice_type_import_folder" model="ir.actions.act_window">
            <field name="name">Bills</field>
            <field name="res_model">account.move</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="account.view_in_invoice_bill_tree"/>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="domain">[('move_type', '=', 'in_invoice'),('purchase_folder_import_id', '!=', False)]</field>
            <field name="context">{'default_move_type': 'in_invoice'}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a vendor bill
              </p><p>
                Create invoices, register payments and keep track of the discussions with your vendors.
              </p>
            </field>
        </record>
            <record id="action_move_in_refund_type_import_folder" model="ir.actions.act_window">
            <field name="name">Refunds</field>
            <field name="res_model">account.move</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="account.view_in_invoice_refund_tree"/>
            <field name="search_view_id" ref="account.view_account_invoice_filter"/>
            <field name="domain">[('move_type', '=', 'in_refund'),('purchase_folder_import_id', '!=', False)]</field>
            <field name="context">{'default_move_type': 'in_refund'}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a vendor credit note
              </p><p>
                Note that the easiest way to create a vendor credit note is to do it directly from the vendor bill.
              </p>
            </field>
        </record>
<!--       <record id="action_account_payments_payable_import_folder" model="ir.actions.act_window">-->
<!--            <field name="name">Payments</field>-->
<!--            <field name="res_model">account.payment</field>-->
<!--            <field name="view_mode">tree,kanban,form,graph</field>-->
<!--            <field name="context">{-->
<!--                'default_payment_type': 'outbound',-->
<!--                'default_partner_type': 'supplier',-->
<!--                'search_default_outbound_filter': 1,-->
<!--                'default_move_journal_types': ('bank', 'cash'),-->
<!--            }</field>-->
<!--            <field name="view_id" ref="account.view_account_supplier_payment_tree"/>-->
<!--            <field name="help" type="html">-->
<!--                <p class="o_view_nocontent_smiling_face">-->
<!--                  Register a payment-->
<!--                </p><p>-->
<!--                  Payments are used to register liquidity movements. You can process those payments by your own means or by using installed facilities.-->
<!--                </p>-->
<!--            </field>-->
<!--        </record>-->

    <record id="act_supplier_invoices_import_folder" model="ir.actions.server">
        <field name="name">Supplier Invoices Analysis</field>
        <field name="model_id"
               ref="account.model_account_move"/>
        <field name="binding_model_id" ref="smartest_foreign_trade.model_smartest_import_folder"/>
        <field name="state">code</field>
        <field name="groups_id" eval="[(4, ref('base.group_user'))]"/>
        <field name="code">action = model.action_supplier_invoices_analysis()</field>
    </record>
    <record id="act_landed_costs_invoices_import_folder" model="ir.actions.server">
        <field name="name">Landed Costs Invoices Analysis</field>
        <field name="model_id"
               ref="account.model_account_move"/>
        <field name="binding_model_id" ref="smartest_foreign_trade.model_smartest_import_folder"/>
        <field name="state">code</field>
        <field name="groups_id" eval="[(4, ref('base.group_user'))]"/>
        <field name="code">action = model.action_landed_costs_invoices_analysis()</field>
    </record>
</odoo>