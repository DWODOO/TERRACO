<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="smartest_maintenance.report_maintenance_request_document">
        <t t-call="web.html_container">
            <t t-set="company" t-value="res_company"/>
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout_boxed">
                    <div class="page" style="font-family: serif; font-size: 15px;">
                        <table class="table mb-0 mt-0">
                            <thead>
                                <tr>
                                    <th colspan="4" class="text-center mb-0" style="background-color: #989292;">
                                        <h6 style="color: black;"><span>Compte-rendu d'intervention</span></h6>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                               <tr style="border:1px solid black !important;">
                                    <td colspan="2">
                                        <div class="text-center">
                                            Emetteur
                                        </div>
                                        <div>
                                            Nom :
                                            <span t-field="o.employee_id" class="text-right"/>
                                        </div>
                                        <div class="text-left">Secteur : </div>
                                    </td>
                                   <td colspan="2">
                                        <div class="text-center">
                                            Unité
                                        </div>
                                        <div>
                                            Nom :
                                            <span t-field="o.employee_id" class="text-right"/>
                                        </div>
                                    </td>
                                </tr>
                               <tr>
                                   <td colspan="1" class="w-25">
                                        <div class="text-center">
                                            Intervenant(s)
                                        </div>
                                        <div>
                                            Nom :
                                            <span t-field="o.user_id" class="text-right"/>
                                        </div>
                                        <div class="text-left">Secteur Maintenance </div>
                                    </td>
                                   <td colspan="1" class="w-25">
                                        <div class="text-center">
                                            Date et Heure
                                        </div>
                                        <div>
                                            <span t-field="o.request_date" class="text-center"/>
                                        </div>
                                    </td>
                                   <td colspan="1" class="w-25">
                                        <div class="text-center">
                                            Systeme
                                        </div>
                                        <div>
                                            <span t-field="o.equipment_id" class="text-center"/>
                                        </div>
                                    </td>
                                   <td colspan="1" class="w-25">
                                        <div class="text-center">
                                            Référence Machine
                                        </div>
                                        <div>
                                            <span t-field="o.equipment_id" class="text-center"/>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <h6 style="color: black;"><span>Localisation de l'intervention</span></h6>
                                    </td>
                                </tr>
                                <tr>
                                   <td colspan="4" class="text-center mb-0 mt-0" style="height: 50px;border:1px solid black !important;">
                                     <h6 style="color: black;"><span t-field="o.description"/></h6>
                                   </td>
                                </tr>
                               <tr>
                                    <td colspan="1" class="text-center">
                                            Operations
                                    </td>
                                   <td colspan="1" class="text-center">
                                            Type de maintenance
                                    </td>
                                   <td colspan="1" class="text-center">
                                            Cause de defaillance
                                    </td>
                                   <td colspan="1" class="text-center">
                                            Nature d'intervention
                                    </td>
                                </tr>
                               <tr>
                                    <td colspan="1">
                                        <div class="text-left">
                                            Remplacement
                                           <t t-if="o.is_replacement">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_replacement">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                             Dignostic
                                             <t t-if="o.is_diagnostic">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_diagnostic">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                            Amelioration
                                             <t t-if="o.is_amelioration">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_amelioration">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                            Controle
                                             <t t-if="o.is_control">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_control">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="text-center">
                                            <span t-field="o.maintenance_type"/>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="text-left">
                                            Usure normale
                                           <t t-if="o.normale_defaillance">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.normale_defaillance">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                             Defaut utilisateur
                                            <t t-if="o.user_defaillance">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.user_defaillance">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                            Defaut produit
                                           <t t-if="o.product_defaillance">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.product_defaillance">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                            Autres
                                           <t t-if="o.autre">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.autre">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
    </td>
                                    <td>
                                        <div class="text-left">
                                            Mecanique
                                            <t t-if="o.is_mecanique">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_mecanique">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                             Electrique
                                              <t t-if="o.is_electric">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_electric">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                            Instrumentation
                                            <t t-if="o.is_instrumentation">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_instrumentation">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                        <div class="text-left">
                                            Automatisme
                                            <t t-if="o.is_automatisme">
                                                <input type="checkbox" checked="1"></input>
                                            </t>
                                            <t t-if="not o.is_automatisme">
                                                <input type="checkbox"></input>
                                            </t>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td  colspan="4" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <h6 style="color: black;"><span>Cause lié a la défaillance</span></h6>
                                    </td>
                                </tr>
                               <tr style="border:1px solid black !important;">
                                    <td colspan="2" class="w-70" style="width:70%;">
                                        <div class="text-center">
                                        </div>
                                    </td>
                                   <td colspan="2" class="w-30" style="width:30%;">
                                        <div class="text-center w-30">
                                            Temps d'intervention
                                        </div>
                                       <div></div>
                                    </td>
                                </tr>
                                <tr>
                                   <td colspan="2" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <br/>
                                        <br/>
                                    </td>
                                    <td colspan="2" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <br/>
                                        <br/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4" class="text-center mb-0 mt-0" style="background-color: #989292;">
                                        <h6 style="color: black;"><span>Rapport de l'intervention</span></h6>
                                    </td>
                                </tr>
                                <tr>
                                    <td  colspan="4" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <br/>
                                        <br/>
                                        <br/>
                                      </td>
                                </tr>
                                <tr>
                                    <td colspan="4" class="text-center mb-0 mt-0" style="background-color: #989292;">
                                        <h6 style="color: black;"><span>Difficulté rencontrees</span></h6>
                                    </td>
                                </tr>
                                <tr>
                                   <td colspan="4" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <br/>
                                        <br/>
                                    </td>
                                </tr>
                                <tr>
                                   <td  colspan="4" class="text-center mb-0 mt-0" style="border:1px solid black !important;">
                                        <h6 style="color: black;"><span>Piece de rechange et consommable</span></h6>
                                     </td>
                                </tr>
                                <tr>
                                    <td colspan="1">
                                        <div class="text-center">
                                            Désignation
                                        </div>
                                    </td>
                                   <td colspan="1">
                                        <div class="text-center">
                                            Marque/reference
                                        </div>
                                    </td>
                                   <td colspan="2">
                                        <div class="text-center">
                                            Quantité
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="1">
                                        <div class="text-center">
                                        </div>
                                    </td>
                                   <td colspan="1">
                                        <div class="text-center">
                                        </div>
                                    </td>
                                   <td colspan="2">
                                        <div class="text-center">
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </t>
            </t>
        </t>
    </template>

    <record id="action_report_maintenance_request" model="ir.actions.report">
        <field name="name">Fiche d'Intervention</field>
        <field name="model">maintenance.request</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">smartest_maintenance.report_maintenance_request_document</field>
        <field name="report_file">smartest_maintenance.report_maintenance_request_document</field>
        <field name="print_report_name">'Fiche Intervention - %s' % (object.name)</field>
        <field name="binding_model_id" ref="model_maintenance_request"/>
        <field name="binding_type">report</field>
    </record>
</odoo>