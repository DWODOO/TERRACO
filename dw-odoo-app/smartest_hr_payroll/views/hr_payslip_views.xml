<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_hr_payslip_form_view_inherit" model="ir.ui.view">
            <field name="name">hr.payslip.form.inherit</field>
            <field name="model">hr.payslip</field>
            <field name="inherit_id" ref="hr_payroll.view_hr_payslip_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='salary_computation']" position="inside">
                    <field name="smartest_perfect_line_ids" colspan="4" nolabel="1" groups="base.group_no_one">
                        <tree string="Salary Structure" editable="bottom" decoration-info="total == 0" create="0"
                              delete="0">
                            <field name="name"/>
                            <field name="code" readonly="1" force_save="1" optional="hide"/>
                            <field name="category_id" readonly="1" force_save="1"/>
                            <field name="sequence" invisible="1" readonly="1" force_save="1"/>
                            <field name="quantity" readonly="1" force_save="1" invisible="1"/>
                            <field name="rate" readonly="1" force_save="1" invisible="1"/>
                            <field name="salary_rule_id" groups="base.group_no_one" readonly="1" force_save="1"/>
                            <field name="amount" readonly="1" force_save="1" invisible="1"/>
                            <field name="total" readonly="1" invisible="0" force_save="1"/>
                            <field name="currency_id" invisible="1"/>
                        </tree>
                    </field>
                </xpath>
                <xpath expr="//notebook//page[2]//field[@name='line_ids']" position="after">
                    <group name="summary">
                        <group string="Salary" name="salary_summary">
                            <!--                        <field name="base_salary"/>-->
                            <field name="post_salary"/>
                            <field name="irg_base_salary"/>
                            <field name="net_salary"/>
                            <field name="payroll"/>

                        </group>
                        <field name="company_id" invisible="1"/>
                        <field name="smartest_company_currency" invisible="1"/>
                    </group>
                </xpath>

                <xpath expr="//page[@name='worked_days_input']//field[@name='input_line_ids']//tree//field[@name='amount']"
                       position="before">
                    <field name="smartest_configurable_irg" invisible="1"/>
                    <field name="smartest_paid_in_calendar"  invisible="1" />
                    <field name="smartest_paid_in_hours"  invisible="1" />
                    <field name="smartest_paid_in_days"  invisible="1" />
                    <field name="smartest_number_of_days"  optional="hide"  force_save="1" attrs="{'readonly': [('smartest_paid_in_days', '=', False)]}"/>
                    <field name="smartest_number_of_hours"  optional="hide"  force_save="1" attrs="{'readonly': [('smartest_paid_in_hours', '=', False)]}"/>
                    <field name="smartest_auto_irg" widget="boolean" force_save="1"
                           attrs="{'readonly': [('smartest_configurable_irg', '=', False)]}"/>
                    <field name="smartest_manual_irg_amount" force_save="1"
                           attrs="{'readonly': ['|',('smartest_configurable_irg', '=', False),('smartest_auto_irg', '=', True)]}"/>
                </xpath>

            </field>
        </record>
            <record id="hr_payslip_view_tree" model="ir.ui.view">
        <field name="name">hr.payslip.tree</field>
        <field name="model">hr.payslip</field>
        <field name="inherit_id" ref="hr_payroll.view_hr_payslip_tree"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='employee_id']" position="before">
                <field name="registration_number"/>
            </xpath>
            <xpath expr="//field[@name='net_wage']" position="attributes">
                <attribute name="sum">Net</attribute>
            </xpath>
        </field>
    </record>
    </data>
</odoo>
