<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--    Form View    -->
    <record id="partner_account_group_view_form" model="ir.ui.view">
        <field name="name">account_group_form_view</field>
        <field name="model">partner.account.group</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <label class="oe_edit_only" for="name" string="Account group name"/>
                        <h1>
                            <field name="name" default_focus="1" placeholder="Group Name" required="1"/>
                        </h1>
                        <br/>
                        <group string="Account Group" name="container_row_2">
                            <field name="affected_partner" required="1"/>
                            <field name="customer_account_id" attrs="{'invisible' : [('affected_partner', '=', 'supplier')],
                            'required' : [('affected_partner', '!=', 'supplier')]}"
                                   domain="[('account_type', '=', 'asset_receivable')]"/>
                            <field name="supplier_account_id" attrs="{'invisible' : [('affected_partner', '=', 'customer')],
                             'required' : [('affected_partner', '!=', 'customer')]}"
                            domain="[('account_type', '=', 'liability_payable')]"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

     <!--    Tree View    -->
    <record id="parnter_account_group_view_tree" model="ir.ui.view">
        <field name="name">account_group_view_tree</field>
        <field name="model">partner.account.group</field>
        <field name="arch" type="xml">
            <tree string="">
                <field name="name"/>
                <field name="affected_partner"/>
                <field name="customer_account_id" attrs="{'invisible' : [('affected_partner', '=', 'supplier')]}"/>
                <field name="supplier_account_id" attrs="{'invisible' : [('affected_partner', '=', 'customer')]}"/>
            </tree>
        </field>
    </record>

      <!--    Action    -->
    <record id="partner_account_group_action_form" model="ir.actions.act_window">
        <field name="name">Account Group</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">partner.account.group</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create new Account Group
            </p>
        </field>
    </record>

    <menuitem id="menu_partner_account_group_settings" action="partner_account_group_action_form"
                  parent="account.menu_account_config" sequence="7"/>
</odoo>