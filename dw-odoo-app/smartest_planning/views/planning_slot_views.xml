<?xml version="1.0" ?>
<odoo>
    <!--
        Inherit planning.slot core view
    -->
    <record model="ir.ui.view" id="smartest_planning_view_gantt_inherit">
        <field name="name">smartest.planning.slot.gantt.inherit</field>
        <field name="model">planning.slot</field>
        <field name="inherit_id" ref="planning.planning_view_gantt"/>
        <field name="arch" type="xml">
            <!--
                Change Gantt items color to type_color
            -->
            <xpath expr="//gantt" position="attributes">
                <attribute name="color">type_color</attribute>
            </xpath>

        </field>
    </record>

    <!--
        Calendar View - planning.slot
    -->
    <record model="ir.ui.view" id="smartest_planning_view_calendar_inherit">
        <field name="name">smartest.planning.slot.calendar.inherit</field>
        <field name="model">planning.slot</field>
        <field name="inherit_id" ref="planning.planning_view_calendar"/>
        <field name="arch" type="xml">
            <!--
                Change Calendar items color to type_color
            -->
            <field name="role_id" position="after">
                <field name="type_color" invisible="1"/>
            </field>

            <xpath expr="//calendar" position="attributes">
                <attribute name="color">type_color</attribute>
            </xpath>

        </field>
    </record>

    <!--
        Form View - planning.slot
    -->
    <record model="ir.ui.view" id="smartest_planning_view_form_inherit">
        <field name="name">smartest.planning.slot.form.inherit</field>
        <field name="model">planning.slot</field>
        <field name="inherit_id" ref="planning.planning_view_form"/>
        <field name="arch" type="xml">
            <!--
                Add type_id field
            -->
            <field name="role_id" position="after">
                <field name="type_id"/>
            </field>
        </field>
    </record>

    <!--
        Make the following menus visible for the Planing Manger:
            - Planning/Configuration
            - Planning/Configuration/Roles
            - Planning/Configuration/Shift Templates
    -->
    <record model="ir.ui.menu" id="planning.planning_menu_settings">
        <field name="groups_id" eval="[(5, 0), (4, ref('planning.group_planning_manager'))]"/>
    </record>

    <record model="ir.ui.menu" id="planning.planning_menu_settings_role">
        <field name="groups_id" eval="[(5, 0), (4, ref('planning.group_planning_manager'))]"/>
    </record>

    <record model="ir.ui.menu" id="planning.planning_menu_settings_shift_template">
        <field name="groups_id" eval="[(5, 0), (4, ref('planning.group_planning_manager'))]"/>
    </record>
</odoo>
